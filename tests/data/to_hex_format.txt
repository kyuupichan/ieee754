# FloatFormat: H=IEEEhalf S=IEEEsingle D=IEEEdouble Q=IEEEquad
# Context:
#   Rounding: E=ROUND_HALF_EVEN C=ROUND_CEILING F=ROUND_FLOOR D=ROUND_DOWN U=ROUND_UP
#             u=ROUND_HALF_UP d=ROUND_HALF_DOWN
#   Tininess:   B=Detect before rounding, otherwise detect after   (optional)
#   Underflow:  U=Always flag, otherwise only if inexact   (optional)
# Status: K=OK V=Overflow U=Underflow I=Inexact Z=DivByZero X=Invalid
# Sign: + or -
#
# HexSigSpec: ForceSign ForceExpSign NaNPayload Rounding HexDigitCount (no spaces)
# ForceSign: Y or N
# NanPayload: F X or D.  None, Hex or Decimal.
# HexDigitCount: a decimal number

# Test format: HexFormat Context FloatFormat String Status String


###############
#
# Nans
#
###############

NNN1 E S Nan K NaN
NNX1 D H Nan K NaN0x0
NND1 E Q Nan K NaN0

YNN1 C D Nan K +NaN
YYX1 F S Nan K +NaN0x0
YND1 u H Nan K +NaN0

NYN1 E D -Nan K -NaN
NYX1 C Q Nan K NaN0x0
NYD1 F S -Nan K -NaN0

YYN1 E S Nan0x123456 K +NaN
YNX1 u D -Nan0x123456 K -NaN0x123456
YND1 E Q Nan0x123456 K +NaN1193046

NNN1 E S sNan K sNaN
YNX1 D H sNan K +sNaN0x1
NND1 E Q -sNaN K -sNaN1

###############
#
# Infinities
#
###############

NNY1 E S Inf K Inf
NYY1 E S -Inf K -Inf
YNY1 E S Inf K +Inf
YYY1 E S -Inf K -Inf

###############
#
# Zeroes
#
###############

NNY0 E S 0 K 0x0p0
NYY0 E S -0 K -0x0p+0
YNY0 E S 0 K +0x0p0
YNY0 E S -0 K -0x0p0

NYY1 E S 0 K 0x0p+0
NNY1 E S -0 K -0x0p0
YNY1 E S 0 K +0x0p0
YNY1 E S -0 K -0x0p0

NNY2 E S 0 K 0x0.0p0
NNY2 E S -0 K -0x0.0p0
YYY2 E S 0 K +0x0.0p+0
YNY2 E S -0 K -0x0.0p0

NNN17 E S 0 K 0x0.0000p0

###############
#
# Normals
#
###############

NYN0 E S 0x1.6789ap2 K 0x1.6789ap+2
NNN0 E S 0xa.cdef6p23 K 0x1.59bdecp26
NYN0 E D 0xab.cd0faba782f8p0 K 0x1.579a1f574f05fp+7

###############
#
# Normals - extra digits
#
###############

NNN25 E S 0x1.6789ap2 K 0x1.6789a0p2
NYN37 D S 0xa.cdef6p23 K 0x1.59bdec000p+26
NNN57 C D -0xab.cd0faba782f8p0 K -0x1.579a1f574f05f0p7

###############
#
# Normals - truncated
#
###############

NNN17 E S 0x1.6789ap2 I 0x1.678ap2
NNN13 E S 0x1.6789ap2 I 0x1.679p2
NNN9 E S 0x1.6789ap2 I 0x1.68p2
NNN5 E S 0x1.6789ap2 I 0x1.6p2
NNN1 E S 0x1.6789ap2 I 0x1p2

NNN9 E H 0x1.ffcp7 I 0x1.00p8
NNN0 E D 0x1.678p0 K 0x1.678p0

NNN49 E D -0xab.cd0faba782f8p0 I -0x1.579a1f574f06p7
NNN49 D D -0xab.cd0faba782f8p0 I -0x1.579a1f574f05p7
NYN49 F D -0xab.cd0faba782f8p0 I -0x1.579a1f574f06p+7

NNN0 E S 0x1.ap-126 K 0x1.ap-126

# Lost fraction is EXACTLY_HALF EVEN is up
NNN9 E D 0x1.678p0 I 0x1.68p0
NNN9 u D 0x1.678p0 I 0x1.68p0
NNN9 C D 0x1.678p0 I 0x1.68p0
NNN9 D D 0x1.678p0 I 0x1.67p0
NNN9 F D 0x1.678p0 I 0x1.67p0

# Lost fraction is EXACTLY_HALF EVEN is down
NNN9 E S 0x1.668p0 I 0x1.66p0
NNN9 u S 0x1.668p0 I 0x1.67p0
NNN9 C S 0x1.668p0 I 0x1.67p0
NNN9 D S 0x1.668p0 I 0x1.66p0
NNN9 F S 0x1.668p0 I 0x1.66p0

# Lost fraction is MORE_THAN_HALF
NNN9 E S 0x1.18801p5 I 0x1.19p5
NNN9 C S 0x1.18801p5 I 0x1.19p5
NNN9 F S 0x1.18801p5 I 0x1.18p5
NNN9 u S 0x1.18801p5 I 0x1.19p5
NNN9 D S 0x1.18801p5 I 0x1.18p5

# Lost fraction is LESS_THAN_HALF
NNN9 E S 0x1.187f1p5 I 0x1.18p5
NNN9 C S 0x1.187f1p5 I 0x1.19p5
NNN9 F S 0x1.187f1p5 I 0x1.18p5
NNN9 u S 0x1.187f1p5 I 0x1.18p5
NNN9 D S 0x1.187f1p5 I 0x1.18p5

# Lost fraction is LESS_THAN_HALF and -ve
NNN9 E S -0x1.187f1p5 I -0x1.18p5
NNN9 C S -0x1.187f1p5 I -0x1.18p5
NNN9 F S -0x1.187f1p5 I -0x1.19p5
NNN9 u S -0x1.187f1p5 I -0x1.18p5
NNN9 D S -0x1.187f1p5 I -0x1.18p5

###############
#
# Subnormals
#
###############

NNN0 E S 0x1.ap-127 K 0x1.ap-127
NNN0 D S 0x1.ap-146 K 0x1.ap-146
NNN0 u S 0x1.cp-147 K 0x1.cp-147
NNN0 C S 0x1.8p-148 K 0x1.8p-148
NNN0 F S 0x1.0p-149 K 0x1p-149
NNN5 E S 0x1.0p-149 K 0x1.0p-149

###############
#
# Subnormals - truncated
#
###############

NNN1 E S 0x1.8p-148 I 0x1p-147

###############
#
# Partial-digit precisions
#
###############

NNN1 E S 0x1.52bcp0 I 0x1p0
NNN2 E S 0x1.52bcp0 I 0x1.8p0
NNN3 E S 0x1.52bcp0 I 0x1.4p0
NNN4 E S 0x1.52bcp0 I 0x1.6p0
NNN5 E S 0x1.52bcp0 I 0x1.5p0
