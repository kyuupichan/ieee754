# FloatFormat: H=IEEEhalf S=IEEEsingle D=IEEEdouble Q=IEEEquad
# Context:
#   Rounding: E=ROUND_HALF_EVEN C=ROUND_CEILING F=ROUND_FLOOR D=ROUND_DOWN U=ROUND_UP
#             u=ROUND_HALF_UP d=ROUND_HALF_DOWN
# Status: K=OK V=Overflow U=Underflow I=Inexact Z=DivByZero X=InvalidOp S=Subnormal
# Sign: + or -

# Test format: Format LHS RHS Status String


###############
#
# fmod(NaN, Anything)
# fmod(Anything, NaN)
#
###############

# fmod(Nan, others) - return the LHS
D NaN1 0 K NaN1
D NaN1 -1 K NaN1
D NaN1 Inf K NaN1
D NaN1 -Inf K NaN1
D NaN1 NaN2 K NaN1

# fmod(non-NaN, NaN) - return the RHS
Q -1 NaN2 K NaN2
D -0 -NaN2 K -NaN2
D -inf -NaN0xbeef K -NaN0xbeef

# Quiet and Signalling.  Return the left hand quiet NaN
D SNaN5 NaN4 X NaN5
H -NaN1 SNaN2 X -NaN1
Q SNaN0xdead -SNaN0xbeef X NaN0xdead
Q -NaN0xdead -SNaN0xbeef X -NaN0xdead

# Both Signalling.  Return the left hand quiet NaN
S SNaN0x25 SNaN0xdead X NaN0x25
D -SNaN0xdead SNaN2 X -NaN0xdead
Q SNaN1 -SNaN2 X NaN1
Q -SNaN3 -SNaN4 X -NaN3

###############
#
# fmod(Finite, Infinity)
# fmod(Subnormal, Infinity)
#
###############

S 1.25 Inf K 1.25
S 0x1.25p-130 Inf S 0x1.25p-130
H 0 Inf K 0
H 0 -Inf K 0
H -0 Inf K -0
H -0 -Inf K -0
D -0x1.bedp-1050 Inf S -0x1.bedp-1050

###############
#
# fmod(non-NaN, Zero)
# fmod(Infinity, non-NaN)
#
###############

S -1.0 0 X NaN
S 0 -0 X NaN
S 1 -0 X NaN

S -Inf 0 X NaN

S Inf 0x1.25p-130 X NaN
S -Inf 1 X NaN
S Inf -1 X NaN
S Inf Inf X NaN
S -Inf Inf X NaN

###############
#
# fmod(Zero, Finite Non-Zero)
#
###############

S 0 1 K 0.0
S 0 -1 K 0.0
S -0 1 K -0.0
S -0 -1 K -0.0

S -0 0x1.25p-130 K -0.0
S 0 -0x1.25p-130 K 0.0

###############
#
# fmod(Finite Non-Zero, Finite Non-Zero)
#
###############

# Try all 4 sign combinations.

# Round down with all four sign cominations
S 20 6 K 2.0
S 20 -6 K 2.0
S -20 6 K -2.0
S -20 -6 K -2.0

# Round up with all four sign cominations
S 22 6 K 4.0
S 22 -6 K 4.0
S -22 6 K -4.0
S -22 -6 K -4.0

# Ties; round up to even with all four sign cominations
S 21 6 K 3.0
S 21 -6 K 3.0
S -21 6 K -3.0
S -21 -6 K -3.0

# Ties; round down to even with all four sign cominations
S 15 6 K 3.0
S 15 -6 K 3.0
S -15 6 K -3.0
S -15 -6 K -3.0

# Fmod zero with sign of LHS
S 12 6 K 0.0
S 12 -6 K 0.0
S -12 6 K -0.0
S -12 -6 K -0.0

# Generic floating point examples
D 1.234 0.6589 K 0.5751
D 1234 0.6589 K 0.5391999999999229

# Various exponents

D 0x1.950c840000000p-1022 0x1.234567890123p0 K 0x1.950c840000000p-1022
D 0x1.950c840000000p-3 0x1.234567890123p0 K 0x1.950c840000000p-3
D 0x1.950c840000000p-2 0x1.234567890123p0 K 0x1.950c840000000p-2
D 0x1.950c840000000p-1 0x1.234567890123p0 K 0x1.950c840000000p-1
D 0x1.950c840000000p+0 0x1.234567890123p0 K 0x1.c71c71dbfb740p-2
D 0x1.950c840000000p+1 0x1.234567890123p0 K 0x1.c71c71dbfb740p-1
D 0x1.950c840000000p+2 0x1.234567890123p0 K 0x1.47ae14a5f4a20p-1
D 0x1.950c840000000p+3 0x1.234567890123p0 K 0x1.234568e79bf80p-3
D 0x1.950c840000000p+4 0x1.234567890123p0 K 0x1.234568e79bf80p-2
D 0x1.950c840000000p+5 0x1.234567890123p0 K 0x1.234568e79bf80p-1
D 0x1.950c840000000p+6 0x1.234567890123p0 K 0x1.5e9ad50000000p-24
D 0x1.950c840000000p+7 0x1.234567890123p0 K 0x1.5e9ad50000000p-23
D 0x1.950c840000000p+8 0x1.234567890123p0 K 0x1.5e9ad50000000p-22
D 0x1.950c840000000p+9 0x1.234567890123p0 K 0x1.5e9ad50000000p-21
D 0x1.950c840000000p+10 0x1.234567890123p0 K 0x1.5e9ad50000000p-20
D 0x1.950c840000000p+11 0x1.234567890123p0 K 0x1.5e9ad50000000p-19
D 0x1.950c840000000p+12 0x1.234567890123p0 K 0x1.5e9ad50000000p-18
D 0x1.950c840000000p+13 0x1.234567890123p0 K 0x1.5e9ad50000000p-17
D 0x1.950c840000000p+14 0x1.234567890123p0 K 0x1.5e9ad50000000p-16
D 0x1.950c840000000p+19 0x1.234567890123p0 K 0x1.5e9ad50000000p-11
D 0x1.950c840000000p+27 0x1.234567890123p0 K 0x1.5e9ad50000000p-3
D 0x1.950c840000000p+50 0x1.234567890123p0 K 0x1.7b5d74ca2ef40p-2
D 0x1.950c840000000p+55 0x1.234567890123p0 K 0x1.e8d66bddb1080p-2
D 0x1.950c840000000p+57 0x1.234567890123p0 K 0x1.8b2208a95fca0p-1
D 0x1.950c840000000p+235 0x1.234567890123p0 K 0x1.a3d32e5b97e40p-1
D 0x1.950c840000000p+1023 0x1.234567890123p0 K 0x1.43aad90b4fbe0p-1


D 0x1.2345678901230p+0 0x0.0000000000002p-1022 K 0x0.0p+0
D 0x1.2345678901230p+0 0x0.0000000000003p-1022 K 0x0.0p+0
D 0x1.2345678901230p+0 0x0.0000000000006p-1022 K 0x0.0p+0
D 0x1.2345678901230p+0 0x0.000000000000dp-1022 K 0x0.0000000000002p-1022
D 0x1.2345678901230p+0 0x0.0000000000019p-1022 K 0x0.0000000000004p-1022
D 0x1.2345678901230p+0 0x0.0000000000033p-1022 K 0x0.000000000002dp-1022
D 0x1.2345678901230p+0 0x0.00000000000cbp-1022 K 0x0.00000000000b6p-1022
D 0x1.2345678901230p+0 0x0.0000000000195p-1022 K 0x0.0000000000162p-1022
D 0x1.2345678901230p+0 0x0.000000000032ap-1022 K 0x0.0000000000162p-1022
D 0x1.2345678901230p+0 0x0.000000000ca86p-1022 K 0x0.0000000003108p-1022
D 0x1.2345678901230p+0 0x0.000000001950dp-1022 K 0x0.0000000001b77p-1022
D 0x1.2345678901230p+0 0x0.0000000032a19p-1022 K 0x0.0000000004a28p-1022
D 0x1.2345678901230p+0 0x0.0000000654321p-1022 K 0x0.000000018b12dp-1022
D 0x1.2345678901230p+0 0x0.0000000ca8642p-1022 K 0x0.00000007df44ep-1022
D 0x1.2345678901230p+0 0x0.000001950c840p-1022 K 0x0.00000144510c0p-1022
D 0x1.2345678901230p+0 0x0.0000032a19080p-1022 K 0x0.000002d95d900p-1022
D 0x1.2345678901230p+0 0x0.0000065432100p-1022 K 0x0.000002d95d900p-1022
D 0x1.2345678901230p+0 0x0.00000ca864200p-1022 K 0x0.0000092d8fa00p-1022
D 0x1.2345678901230p+0 0x0.00001950c8400p-1022 K 0x0.000015d5f3c00p-1022
D 0x1.2345678901230p+0 0x0.00032a1908000p-1022 K 0x0.0001c43340000p-1022
D 0x1.2345678901230p+0 0x0.0006543210000p-1022 K 0x0.0001c43340000p-1022
D 0x1.2345678901230p+0 0x0.000ca86420000p-1022 K 0x0.0001c43340000p-1022
D 0x1.2345678901230p+0 0x0.01950c8400000p-1022 K 0x0.004db68c00000p-1022
D 0x1.2345678901230p+0 0x0.032a190800000p-1022 K 0x0.01e2c31000000p-1022
D 0x1.2345678901230p+0 0x0.0654321000000p-1022 K 0x0.01e2c31000000p-1022
D 0x1.2345678901230p+0 0x0.32a1908000000p-1022 K 0x0.2e30218000000p-1022
D 0x1.2345678901230p+0 0x0.6543210000000p-1022 K 0x0.60d1b20000000p-1022
D 0x1.2345678901230p+0 0x0.ca86420000000p-1022 K 0x0.60d1b20000000p-1022
D 0x1.2345678901230p+0 0x1.950c840000000p-1022 K 0x1.2b57f40000000p-1022
D 0x1.2345678901230p+0 0x1.950c840000000p-1022 K 0x1.2b57f40000000p-1022
D 0x1.2345678901230p+0 0x1.950c840000000p-312 K 0x1.1e1f400000000p-316
D 0x1.2345678901230p+0 0x1.950c840000000p-56 K 0x1.4c6be00000000p-59
D 0x1.2345678901230p+0 0x1.950c840000000p-42 K 0x1.06ad180000000p-42
D 0x1.2345678901230p+0 0x1.950c840000000p-15 K 0x1.9995a92300000p-16
D 0x1.2345678901230p+0 0x1.950c840000000p-14 K 0x1.30ebac48c0000p-14
D 0x1.2345678901230p+0 0x1.950c840000000p-13 K 0x1.62fc182460000p-13
D 0x1.2345678901230p+0 0x1.950c840000000p-11 K 0x1.2345480918000p-11
D 0x1.2345678901230p+0 0x1.950c840000000p-9 K 0x1.2345480918000p-11
D 0x1.2345678901230p+0 0x1.950c840000000p-8 K 0x1.2345480918000p-11
D 0x1.2345678901230p+0 0x1.950c840000000p-6 K 0x1.2345480918000p-11
D 0x1.2345678901230p+0 0x1.950c840000000p-4 K 0x1.9999992024600p-5
D 0x1.2345678901230p+0 0x1.950c840000000p-3 K 0x1.30eca84809180p-3
D 0x1.2345678901230p+0 0x1.950c840000000p-2 K 0x1.62fc9624048c0p-2
D 0x1.2345678901230p+0 0x1.950c840000000p-1 K 0x1.62fc9624048c0p-2
D 0x1.2345678901230p+0 0x1.950c840000000p+0 K 0x1.2345678901230p+0
D 0x1.2345678901230p+0 0x1.950c840000000p+1 K 0x1.2345678901230p+0
D 0x1.2345678901230p+0 0x1.950c840000000p+2 K 0x1.2345678901230p+0
D 0x1.2345678901230p+0 0x1.950c840000000p+3 K 0x1.2345678901230p+0
D 0x1.2345678901230p+0 0x1.950c840000000p+5 K 0x1.2345678901230p+0
D 0x1.2345678901230p+0 0x1.950c840000000p+7 K 0x1.2345678901230p+0
D 0x1.2345678901230p+0 0x1.950c840000000p+8 K 0x1.2345678901230p+0
D 0x1.2345678901230p+0 0x1.950c840000000p+10 K 0x1.2345678901230p+0
D 0x1.2345678901230p+0 0x1.950c840000000p+11 K 0x1.2345678901230p+0
D 0x1.2345678901230p+0 0x1.950c840000000p+13 K 0x1.2345678901230p+0
D 0x1.2345678901230p+0 0x1.950c840000000p+14 K 0x1.2345678901230p+0
D 0x1.2345678901230p+0 0x1.950c840000000p+27 K 0x1.2345678901230p+0
D 0x1.2345678901230p+0 0x1.950c840000000p+50 K 0x1.2345678901230p+0
D 0x1.2345678901230p+0 0x1.950c840000000p+55 K 0x1.2345678901230p+0
D 0x1.2345678901230p+0 0x1.950c840000000p+57 K 0x1.2345678901230p+0
D 0x1.2345678901230p+0 0x1.950c840000000p+235 K 0x1.2345678901230p+0
D 0x1.2345678901230p+0 0x1.950c840000000p+1023 K 0x1.2345678901230p+0

D 0x1.950c840000000p+1023 0x0.000048d159e24p-1022 K 0x0.000005093ca90p-1022
D 0x1.950c840000000p+1023 0x0.000048d159e24p-1022 K 0x0.000005093ca90p-1022
D 0x1.950c840000000p+1023 0x0.000048d159e24p-1022 K 0x0.000005093ca90p-1022

# Test UnderflowExact
D 0x1.7p-1025 0x2p-1025 K 0x0.2e00000000000p-1022
D 0x1.7p-1025 0x3p-1025 K 0x0.2e00000000000p-1022
